{% extends 'base.html.twig' %}

{% block title %}
  Cohort
{% endblock %}

{% block main %}
  <div class="container-fluid">
    <div class="row flex-start">
      <div class="col-3 mt-2 mb-2 text-start">
        <a href="{{ path('app_cohort_index') }}" class="btn btn-success">{{ 'global.btn_back'|trans }}</a>
      </div>
      <div class="col-6 text-center mt-2 mb-2">
        <h1>Cohort</h1>
      </div>
      <div class="col-3 mt-2 mb-2 text-end">
        <a href="{{ path('app_cohort_edit', { uuid: cohort.uuid }) }}" class="btn btn-warning">{{ 'global.btn_edit'|trans }}</a>
      </div>
    </div>

    <div class="row">
      <div class="col-12">
        <table class="table table-responsive">
          <tbody>
            <tr>
              <th>Id</th>
              <td>{{ cohort.id }}</td>
            </tr>
            <tr>
              <th>Name</th>
              <td>{{ cohort.name }}</td>
            </tr>
            <tr>
              <th>Acronym</th>
              <td>{{ cohort.acronym }}</td>
            </tr>
            <tr>
              <th>Shield</th>
              <td>{{ cohort.shield }}</td>
            </tr>
            <tr>
              <th>Documents</th>
              <td>
                {% set documents = cohort.documents|json_decode|json_decode %}
                {% if documents.internships is defined and documents.internships is not empty %}
                  <ul>
                    {% for internship in documents.internships %}
                      <li>{{ internship.label }}: {{ internship.start_date|date('d/m/Y') }} - {{ internship.finish_date|date('d/m/Y') }} | {{ internship.duration }}h</li>
                    {% endfor %}
                  </ul>
                {% else %}
                  {{ 'administration.cohort.no_documents'|trans }}
                {% endif %}
              </td>
            </tr>
            <tr>
              <th>StartDate</th>
              <td>{{ cohort.startDate ? cohort.startDate|date('Y-m-d') : '' }}</td>
            </tr>
            <tr>
              <th>FinishDate</th>
              <td>{{ cohort.finishDate ? cohort.finishDate|date('Y-m-d') : '' }}</td>
            </tr>
            <tr>
              <th>Uuid</th>
              <td>{{ cohort.uuid }}</td>
            </tr>
          </tbody>
        </table>

      </div>  
    </div>
    
    <div class="row">
      <div class="col-12">
        {{ include('cohort/_delete_form.html.twig') }}
      </div>  
    </div>
  
  </div>
{% endblock %}
